<odoo>    
    <data>
        <record id="soycalidad_change_request_form_tyt_inherit" model="ir.ui.view">
            <field name="name">soycalidad_change_request_form_tyt_inherit</field>
            <field name="model">soycalidad.change_request</field>
            <field name="inherit_id" ref="soycalidad_improve.soycalidad_change_request_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//sheet/group[1]" position="replace">
                    <group>
                        <field name="request_date" colspan="2" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                    </group>            
                </xpath>
                <xpath expr="//sheet/group[1]" position="after">
                    <group col="3">
                        <group>
                            <field name="employee_id" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                        </group>
                        <group>
                            <field name="hr_job_related_employee" />
                        </group>
                        <group>
                            <field name="site_related_employee" />
                        </group>                                                        
                    </group>
                    <group>                
                        <group>
                            <field name="background" colspan="2" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                            <field name="change_request_area_id" colspan="2" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                            <field name="description" colspan="2" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                            <!-- <field name="benefit" colspan="2" attrs="{'readonly':[('state','not in', ('draft'))]}"/> -->
                        </group>
                    </group>
                    <group> 
                        <group>
                            <field name="consequence"  attrs="{'readonly':[('state','not in', ('draft'))]}" />
                            <field name="resource_ids"  widget="many2many_tags" options="{'no_open': True}" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                            <field name="needing"  attrs="{'readonly':[('state','not in', ('draft'))]}" />
                            <field name="current_user_can_validate" invisible="1" />
                        </group>
                        <group>
                            <field name="clause_narrative" />
                            <field name="procedures_char" />
                            <field name="clause_id" widget="many2many_tags" options="{'no_open': True}" />
                        </group> 

                    </group>            
                </xpath>
                <xpath expr="//sheet/notebook/page[@name='validation']/group[1]" position="replace">
                    <group col="3">
                        <group>
                            <field name="responsible_id" attrs="{'readonly':[('state','not in', ('draft'))]}" />
                        </group>
                        <group>
                            <field name="hr_job_related_user" readonly="1" />
                        </group>
                        <group>
                            <field name="site_related_user" readonly="1" />
                        </group>                                                        
                    </group>          
                </xpath>                
                <xpath expr="//sheet/notebook/page[@name='validation']/group[1]" position="after">
                    <group>
                        <field name="approval" colspan="2" readonly="1" />
                        <field name="response_date" colspan="2" attrs="{'readonly':[('current_user_can_validate','=', False)]}" />
                    </group>            
                </xpath>              
            </field>
        </record>
    </data>
</odoo>